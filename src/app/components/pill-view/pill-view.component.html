<link href="pill-view.component.scss" rel="stylesheet">
<ng-container *ngIf="ss.data.appMode!=='edit'">
  <div [class]="classForContainer">
    <div [class]="classForPill" [ngStyle]="ps.styleForPill(pill)" pill>
      <div content>
        <div [class]="ps.classForText(pill)" title>
          {{time.count}}&nbsp;{{pill.name}}
        </div>
        <div *ngIf="time.isAlerted" actions>
          <button (click)="clickEat($event)" [ngStyle]="ps.styleForPill(pill)" mat-icon-button>
            <mat-icon>{{ps.iconConsumed(pill)}}</mat-icon>
          </button>
          <button (click)="clickMissed($event)" [ngStyle]="ps.styleForPill(pill)" mat-icon-button>
            <mat-icon>{{ps.iconMissed(pill)}}</mat-icon>
          </button>
        </div>
        <button (click)="clickTime($event)" [class]="ps.classForText(pill)" label mat-flat-button>
          {{ps.getDisplayTime(time)}}
        </button>
      </div>
      <div horz></div>
      <div vert></div>
    </div>
    <div *ngIf="ps.showSupplyLow(pill)" class="supplylow">
      <div>Nachbestellen</div>
      <div>(noch {{pill.supply}})</div>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="ss.data.appMode==='edit'">
  <div [class]="classForContainer">
    <div [class]="classForPill" [ngStyle]="ps.styleForPill(pill)" pill>
      <div content>
        <div title>{{pill.name}}</div>
        <div actions>
          <button (click)="clickEdit($event)" [ngStyle]="ps.styleForPill(pill)" mat-icon-button>
            <mat-icon>edit</mat-icon>
          </button>
        </div>
        <button (click)="clickTime($event)" [class]="ps.classForText(pill)" label mat-flat-button>
          {{ps.getDisplayTime(pill.timeList[0])}}
          <ng-container *ngIf="pill.timeList.length>1">...</ng-container>
        </button>
      </div>
      <div horz></div>
      <div vert></div>
    </div>
    <div *ngIf="ps.showSupplyLow(pill)" class="supplylow">
      <div>Nachbestellen</div>
      <div>(noch {{pill.supply}})</div>
    </div>
  </div>
</ng-container>
